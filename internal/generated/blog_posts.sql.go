// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: blog_posts.sql

package generated

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const deleteBlogPost = `-- name: DeleteBlogPost :exec
DELETE FROM blog_posts
WHERE id = $1
`

func (q *Queries) DeleteBlogPost(ctx context.Context, id uuid.UUID) error {
	_, err := q.exec(ctx, q.deleteBlogPostStmt, deleteBlogPost, id)
	return err
}

const insertBlogPost = `-- name: InsertBlogPost :one
INSERT INTO blog_posts (
  id,
  title,
  slug,
  excerpt,
  content,
  category_id,
  featured_media_id,
  author_id,
  status,
  published_at
) VALUES (
  $1, $2, $3, $4, $5, $6, $7, $8, $9, $10
)
RETURNING id, title, slug, excerpt, content, category_id, featured_media_id, author_id, status, published_at, created_at, updated_at
`

type InsertBlogPostParams struct {
	ID              uuid.UUID      `json:"id"`
	Title           sql.NullString `json:"title"`
	Slug            sql.NullString `json:"slug"`
	Excerpt         sql.NullString `json:"excerpt"`
	Content         sql.NullString `json:"content"`
	CategoryID      uuid.NullUUID  `json:"category_id"`
	FeaturedMediaID uuid.NullUUID  `json:"featured_media_id"`
	AuthorID        uuid.NullUUID  `json:"author_id"`
	Status          sql.NullString `json:"status"`
	PublishedAt     sql.NullTime   `json:"published_at"`
}

func (q *Queries) InsertBlogPost(ctx context.Context, arg InsertBlogPostParams) (BlogPost, error) {
	row := q.queryRow(ctx, q.insertBlogPostStmt, insertBlogPost,
		arg.ID,
		arg.Title,
		arg.Slug,
		arg.Excerpt,
		arg.Content,
		arg.CategoryID,
		arg.FeaturedMediaID,
		arg.AuthorID,
		arg.Status,
		arg.PublishedAt,
	)
	var i BlogPost
	err := row.Scan(
		&i.ID,
		&i.Title,
		&i.Slug,
		&i.Excerpt,
		&i.Content,
		&i.CategoryID,
		&i.FeaturedMediaID,
		&i.AuthorID,
		&i.Status,
		&i.PublishedAt,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const listBlogPosts = `-- name: ListBlogPosts :many
SELECT blog_posts.id, title, blog_posts.slug, excerpt, content, category_id, featured_media_id, author_id, status, published_at, blog_posts.created_at, blog_posts.updated_at, users.id, users.name, email, password_hash, role_id, is_active, last_login_at, users.created_at, users.updated_at, blog_categories.id, blog_categories.name, blog_categories.slug, media.id, file_name, file_type, mime_type, file_size, url, alt_text, caption, uploaded_by, media.created_at
FROM blog_posts
INNER JOIN users ON blog_posts.author_id = users.id
INNER JOIN blog_categories ON blog_posts.category_id = blog_categories.id
INNER JOIN media ON blog_posts.featured_media_id = media.id
ORDER BY published_at DESC
LIMIT $1 OFFSET $2
`

type ListBlogPostsParams struct {
	Limit  int32 `json:"limit"`
	Offset int32 `json:"offset"`
}

type ListBlogPostsRow struct {
	ID              uuid.UUID      `json:"id"`
	Title           sql.NullString `json:"title"`
	Slug            sql.NullString `json:"slug"`
	Excerpt         sql.NullString `json:"excerpt"`
	Content         sql.NullString `json:"content"`
	CategoryID      uuid.NullUUID  `json:"category_id"`
	FeaturedMediaID uuid.NullUUID  `json:"featured_media_id"`
	AuthorID        uuid.NullUUID  `json:"author_id"`
	Status          sql.NullString `json:"status"`
	PublishedAt     sql.NullTime   `json:"published_at"`
	CreatedAt       sql.NullTime   `json:"created_at"`
	UpdatedAt       sql.NullTime   `json:"updated_at"`
	ID_2            uuid.UUID      `json:"id_2"`
	Name            sql.NullString `json:"name"`
	Email           sql.NullString `json:"email"`
	PasswordHash    sql.NullString `json:"password_hash"`
	RoleID          uuid.UUID      `json:"role_id"`
	IsActive        sql.NullBool   `json:"is_active"`
	LastLoginAt     sql.NullTime   `json:"last_login_at"`
	CreatedAt_2     sql.NullTime   `json:"created_at_2"`
	UpdatedAt_2     sql.NullTime   `json:"updated_at_2"`
	ID_3            uuid.UUID      `json:"id_3"`
	Name_2          sql.NullString `json:"name_2"`
	Slug_2          sql.NullString `json:"slug_2"`
	ID_4            uuid.UUID      `json:"id_4"`
	FileName        sql.NullString `json:"file_name"`
	FileType        sql.NullString `json:"file_type"`
	MimeType        sql.NullString `json:"mime_type"`
	FileSize        sql.NullInt64  `json:"file_size"`
	Url             sql.NullString `json:"url"`
	AltText         sql.NullString `json:"alt_text"`
	Caption         sql.NullString `json:"caption"`
	UploadedBy      uuid.NullUUID  `json:"uploaded_by"`
	CreatedAt_3     sql.NullTime   `json:"created_at_3"`
}

func (q *Queries) ListBlogPosts(ctx context.Context, arg ListBlogPostsParams) ([]ListBlogPostsRow, error) {
	rows, err := q.query(ctx, q.listBlogPostsStmt, listBlogPosts, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ListBlogPostsRow{}
	for rows.Next() {
		var i ListBlogPostsRow
		if err := rows.Scan(
			&i.ID,
			&i.Title,
			&i.Slug,
			&i.Excerpt,
			&i.Content,
			&i.CategoryID,
			&i.FeaturedMediaID,
			&i.AuthorID,
			&i.Status,
			&i.PublishedAt,
			&i.CreatedAt,
			&i.UpdatedAt,
			&i.ID_2,
			&i.Name,
			&i.Email,
			&i.PasswordHash,
			&i.RoleID,
			&i.IsActive,
			&i.LastLoginAt,
			&i.CreatedAt_2,
			&i.UpdatedAt_2,
			&i.ID_3,
			&i.Name_2,
			&i.Slug_2,
			&i.ID_4,
			&i.FileName,
			&i.FileType,
			&i.MimeType,
			&i.FileSize,
			&i.Url,
			&i.AltText,
			&i.Caption,
			&i.UploadedBy,
			&i.CreatedAt_3,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listBlogPostsByCategory = `-- name: ListBlogPostsByCategory :many
SELECT blog_posts.id, title, blog_posts.slug, excerpt, content, category_id, featured_media_id, author_id, status, published_at, blog_posts.created_at, blog_posts.updated_at, users.id, users.name, email, password_hash, role_id, is_active, last_login_at, users.created_at, users.updated_at, blog_categories.id, blog_categories.name, blog_categories.slug, media.id, file_name, file_type, mime_type, file_size, url, alt_text, caption, uploaded_by, media.created_at
FROM blog_posts
INNER JOIN users ON blog_posts.author_id = users.id
INNER JOIN blog_categories ON blog_posts.category_id = blog_categories.id
INNER JOIN media ON blog_posts.featured_media_id = media.id
WHERE category_id = $1
ORDER BY published_at DESC
LIMIT $2 OFFSET $3
`

type ListBlogPostsByCategoryParams struct {
	CategoryID uuid.NullUUID `json:"category_id"`
	Limit      int32         `json:"limit"`
	Offset     int32         `json:"offset"`
}

type ListBlogPostsByCategoryRow struct {
	ID              uuid.UUID      `json:"id"`
	Title           sql.NullString `json:"title"`
	Slug            sql.NullString `json:"slug"`
	Excerpt         sql.NullString `json:"excerpt"`
	Content         sql.NullString `json:"content"`
	CategoryID      uuid.NullUUID  `json:"category_id"`
	FeaturedMediaID uuid.NullUUID  `json:"featured_media_id"`
	AuthorID        uuid.NullUUID  `json:"author_id"`
	Status          sql.NullString `json:"status"`
	PublishedAt     sql.NullTime   `json:"published_at"`
	CreatedAt       sql.NullTime   `json:"created_at"`
	UpdatedAt       sql.NullTime   `json:"updated_at"`
	ID_2            uuid.UUID      `json:"id_2"`
	Name            sql.NullString `json:"name"`
	Email           sql.NullString `json:"email"`
	PasswordHash    sql.NullString `json:"password_hash"`
	RoleID          uuid.UUID      `json:"role_id"`
	IsActive        sql.NullBool   `json:"is_active"`
	LastLoginAt     sql.NullTime   `json:"last_login_at"`
	CreatedAt_2     sql.NullTime   `json:"created_at_2"`
	UpdatedAt_2     sql.NullTime   `json:"updated_at_2"`
	ID_3            uuid.UUID      `json:"id_3"`
	Name_2          sql.NullString `json:"name_2"`
	Slug_2          sql.NullString `json:"slug_2"`
	ID_4            uuid.UUID      `json:"id_4"`
	FileName        sql.NullString `json:"file_name"`
	FileType        sql.NullString `json:"file_type"`
	MimeType        sql.NullString `json:"mime_type"`
	FileSize        sql.NullInt64  `json:"file_size"`
	Url             sql.NullString `json:"url"`
	AltText         sql.NullString `json:"alt_text"`
	Caption         sql.NullString `json:"caption"`
	UploadedBy      uuid.NullUUID  `json:"uploaded_by"`
	CreatedAt_3     sql.NullTime   `json:"created_at_3"`
}

func (q *Queries) ListBlogPostsByCategory(ctx context.Context, arg ListBlogPostsByCategoryParams) ([]ListBlogPostsByCategoryRow, error) {
	rows, err := q.query(ctx, q.listBlogPostsByCategoryStmt, listBlogPostsByCategory, arg.CategoryID, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ListBlogPostsByCategoryRow{}
	for rows.Next() {
		var i ListBlogPostsByCategoryRow
		if err := rows.Scan(
			&i.ID,
			&i.Title,
			&i.Slug,
			&i.Excerpt,
			&i.Content,
			&i.CategoryID,
			&i.FeaturedMediaID,
			&i.AuthorID,
			&i.Status,
			&i.PublishedAt,
			&i.CreatedAt,
			&i.UpdatedAt,
			&i.ID_2,
			&i.Name,
			&i.Email,
			&i.PasswordHash,
			&i.RoleID,
			&i.IsActive,
			&i.LastLoginAt,
			&i.CreatedAt_2,
			&i.UpdatedAt_2,
			&i.ID_3,
			&i.Name_2,
			&i.Slug_2,
			&i.ID_4,
			&i.FileName,
			&i.FileType,
			&i.MimeType,
			&i.FileSize,
			&i.Url,
			&i.AltText,
			&i.Caption,
			&i.UploadedBy,
			&i.CreatedAt_3,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const selectBlogPostByID = `-- name: SelectBlogPostByID :one
SELECT blog_posts.id, title, blog_posts.slug, excerpt, content, category_id, featured_media_id, author_id, status, published_at, blog_posts.created_at, blog_posts.updated_at, users.id, users.name, email, password_hash, role_id, is_active, last_login_at, users.created_at, users.updated_at, blog_categories.id, blog_categories.name, blog_categories.slug, media.id, file_name, file_type, mime_type, file_size, url, alt_text, caption, uploaded_by, media.created_at
FROM blog_posts
INNER JOIN users ON blog_posts.author_id = users.id
INNER JOIN blog_categories ON blog_posts.category_id = blog_categories.id
INNER JOIN media ON blog_posts.featured_media_id = media.id
WHERE blog_posts.id = $1
`

type SelectBlogPostByIDRow struct {
	ID              uuid.UUID      `json:"id"`
	Title           sql.NullString `json:"title"`
	Slug            sql.NullString `json:"slug"`
	Excerpt         sql.NullString `json:"excerpt"`
	Content         sql.NullString `json:"content"`
	CategoryID      uuid.NullUUID  `json:"category_id"`
	FeaturedMediaID uuid.NullUUID  `json:"featured_media_id"`
	AuthorID        uuid.NullUUID  `json:"author_id"`
	Status          sql.NullString `json:"status"`
	PublishedAt     sql.NullTime   `json:"published_at"`
	CreatedAt       sql.NullTime   `json:"created_at"`
	UpdatedAt       sql.NullTime   `json:"updated_at"`
	ID_2            uuid.UUID      `json:"id_2"`
	Name            sql.NullString `json:"name"`
	Email           sql.NullString `json:"email"`
	PasswordHash    sql.NullString `json:"password_hash"`
	RoleID          uuid.UUID      `json:"role_id"`
	IsActive        sql.NullBool   `json:"is_active"`
	LastLoginAt     sql.NullTime   `json:"last_login_at"`
	CreatedAt_2     sql.NullTime   `json:"created_at_2"`
	UpdatedAt_2     sql.NullTime   `json:"updated_at_2"`
	ID_3            uuid.UUID      `json:"id_3"`
	Name_2          sql.NullString `json:"name_2"`
	Slug_2          sql.NullString `json:"slug_2"`
	ID_4            uuid.UUID      `json:"id_4"`
	FileName        sql.NullString `json:"file_name"`
	FileType        sql.NullString `json:"file_type"`
	MimeType        sql.NullString `json:"mime_type"`
	FileSize        sql.NullInt64  `json:"file_size"`
	Url             sql.NullString `json:"url"`
	AltText         sql.NullString `json:"alt_text"`
	Caption         sql.NullString `json:"caption"`
	UploadedBy      uuid.NullUUID  `json:"uploaded_by"`
	CreatedAt_3     sql.NullTime   `json:"created_at_3"`
}

func (q *Queries) SelectBlogPostByID(ctx context.Context, id uuid.UUID) (SelectBlogPostByIDRow, error) {
	row := q.queryRow(ctx, q.selectBlogPostByIDStmt, selectBlogPostByID, id)
	var i SelectBlogPostByIDRow
	err := row.Scan(
		&i.ID,
		&i.Title,
		&i.Slug,
		&i.Excerpt,
		&i.Content,
		&i.CategoryID,
		&i.FeaturedMediaID,
		&i.AuthorID,
		&i.Status,
		&i.PublishedAt,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.ID_2,
		&i.Name,
		&i.Email,
		&i.PasswordHash,
		&i.RoleID,
		&i.IsActive,
		&i.LastLoginAt,
		&i.CreatedAt_2,
		&i.UpdatedAt_2,
		&i.ID_3,
		&i.Name_2,
		&i.Slug_2,
		&i.ID_4,
		&i.FileName,
		&i.FileType,
		&i.MimeType,
		&i.FileSize,
		&i.Url,
		&i.AltText,
		&i.Caption,
		&i.UploadedBy,
		&i.CreatedAt_3,
	)
	return i, err
}

const updateBlogPost = `-- name: UpdateBlogPost :one
UPDATE blog_posts
SET
  title = $2,
  slug = $3,
  excerpt = $4,
  content = $5,
  category_id = $6,
  featured_media_id = $7,
  author_id = $8,
  status = $9,
  published_at = $10,
  updated_at = NOW()
WHERE id = $1
RETURNING id, title, slug, excerpt, content, category_id, featured_media_id, author_id, status, published_at, created_at, updated_at
`

type UpdateBlogPostParams struct {
	ID              uuid.UUID      `json:"id"`
	Title           sql.NullString `json:"title"`
	Slug            sql.NullString `json:"slug"`
	Excerpt         sql.NullString `json:"excerpt"`
	Content         sql.NullString `json:"content"`
	CategoryID      uuid.NullUUID  `json:"category_id"`
	FeaturedMediaID uuid.NullUUID  `json:"featured_media_id"`
	AuthorID        uuid.NullUUID  `json:"author_id"`
	Status          sql.NullString `json:"status"`
	PublishedAt     sql.NullTime   `json:"published_at"`
}

func (q *Queries) UpdateBlogPost(ctx context.Context, arg UpdateBlogPostParams) (BlogPost, error) {
	row := q.queryRow(ctx, q.updateBlogPostStmt, updateBlogPost,
		arg.ID,
		arg.Title,
		arg.Slug,
		arg.Excerpt,
		arg.Content,
		arg.CategoryID,
		arg.FeaturedMediaID,
		arg.AuthorID,
		arg.Status,
		arg.PublishedAt,
	)
	var i BlogPost
	err := row.Scan(
		&i.ID,
		&i.Title,
		&i.Slug,
		&i.Excerpt,
		&i.Content,
		&i.CategoryID,
		&i.FeaturedMediaID,
		&i.AuthorID,
		&i.Status,
		&i.PublishedAt,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
