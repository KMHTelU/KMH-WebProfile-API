// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: media.sql

package generated

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const deleteMedia = `-- name: DeleteMedia :exec
DELETE FROM media
WHERE id = $1
`

func (q *Queries) DeleteMedia(ctx context.Context, id uuid.UUID) error {
	_, err := q.exec(ctx, q.deleteMediaStmt, deleteMedia, id)
	return err
}

const insertMedia = `-- name: InsertMedia :one
INSERT INTO media (
  id,
  file_name,
  file_type,
  mime_type,
  file_size,
  url,
  alt_text,
  caption,
  uploaded_by
) VALUES (
  $1, $2, $3, $4, $5, $6, $7, $8, $9
)
RETURNING id, file_name, file_type, mime_type, file_size, url, alt_text, caption, uploaded_by, created_at
`

type InsertMediaParams struct {
	ID         uuid.UUID      `json:"id"`
	FileName   sql.NullString `json:"file_name"`
	FileType   sql.NullString `json:"file_type"`
	MimeType   sql.NullString `json:"mime_type"`
	FileSize   sql.NullInt64  `json:"file_size"`
	Url        sql.NullString `json:"url"`
	AltText    sql.NullString `json:"alt_text"`
	Caption    sql.NullString `json:"caption"`
	UploadedBy uuid.NullUUID  `json:"uploaded_by"`
}

func (q *Queries) InsertMedia(ctx context.Context, arg InsertMediaParams) (Medium, error) {
	row := q.queryRow(ctx, q.insertMediaStmt, insertMedia,
		arg.ID,
		arg.FileName,
		arg.FileType,
		arg.MimeType,
		arg.FileSize,
		arg.Url,
		arg.AltText,
		arg.Caption,
		arg.UploadedBy,
	)
	var i Medium
	err := row.Scan(
		&i.ID,
		&i.FileName,
		&i.FileType,
		&i.MimeType,
		&i.FileSize,
		&i.Url,
		&i.AltText,
		&i.Caption,
		&i.UploadedBy,
		&i.CreatedAt,
	)
	return i, err
}
